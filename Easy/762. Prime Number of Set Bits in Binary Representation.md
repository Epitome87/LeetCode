# [762. Prime Number of Set Bits in Binary Representation](https://leetcode.com/problems/prime-number-of-set-bits-in-binary-representation)

## Description

Given two integers `left` and `right`, return _the **count** of numbers in the **inclusive** range_ `[left, right]` _having a **prime number of set bits** in their binary representation_.

Recall that the **number of set bits** an integer has is the number of `1`'s present when written in binary.

- For example, `21` written in binary is `10101`, which has `3` set bits.

**Example 1:**

**Input:** left = 6, right = 10  
**Output:** 4  
**Explanation:**  
6 -> 110 (2 set bits, 2 is prime)
7 -> 111 (3 set bits, 3 is prime)
8 -> 1000 (1 set bit, 1 is not prime)
9 -> 1001 (2 set bits, 2 is prime)
10 -> 1010 (2 set bits, 2 is prime)
4 numbers have a prime number of set bits.

**Example 2:**

**Input:** left = 10, right = 15  
**Output:** 5  
**Explanation:**  
10 -> 1010 (2 set bits, 2 is prime)
11 -> 1011 (3 set bits, 3 is prime)
12 -> 1100 (2 set bits, 2 is prime)
13 -> 1101 (3 set bits, 3 is prime)
14 -> 1110 (3 set bits, 3 is prime)
15 -> 1111 (4 set bits, 4 is not prime)
5 numbers have a prime number of set bits.

**Constraints:**

- `1 <= left <= right <= 10^6`
- `0 <= right - left <= 10^4`

## My Solution

**JavaScript**

```js
const countPrimeSetBits = (left, right) => {
  let result = 0;

  while (left <= right) {
    let numSetBits = 0;

    for (let n = left++; n > 0; n >>= 1) {
      numSetBits += n & 1;
    }

    result += (665772 >> numSetBits) & 1;
  }

  return result;
};
```

| Time Complexity                     | Space Complexity |
| ----------------------------------- | ---------------- |
| O((right - left + 1) \* Log(Right)) | O(1)             |

```js
const countPrimeSetBits = (left, right) => {
  const primes = new Set([2, 3, 5, 7, 11, 13, 17, 19]);
  let result = 0;

  for (let i = left; i <= right; ++i) {
    let bits = 0;
    for (let n = i; n > 0; n >>= 1) {
      bits += n & 1;
    }
    result += primes.has(bits);
  }

  return result;
};
```

| Time Complexity                     | Space Complexity |
| ----------------------------------- | ---------------- |
| O((right - left + 1) \* Log(Right)) | O(1)             |

**Python**

```python
def countPrimeSetBits(self, left: int, right: int) -> int:
    result = 0

    while left <= right:
        num_set_bits = 0

        n = left
        left += 1

        while n > 0:
            num_set_bits += n & 1
            n >>= 1

        result += 665772 >> num_set_bits & 1

    return result
```

| Time Complexity                     | Space Complexity |
| ----------------------------------- | ---------------- |
| O((right - left + 1) \* Log(Right)) | O(1)             |

**Java**

```java
public int countPrimeSetBits(int left, int right) {
    int result = 0;

    while (left <= right) {
        int numSetBits = 0;

        for (int n = left++; n > 0; n >>= 1) {
            numSetBits += n & 1;
        }

        result += (665772 >> numSetBits) & 1;
    }

    return result;
}
```

| Time Complexity                     | Space Complexity |
| ----------------------------------- | ---------------- |
| O((right - left + 1) \* Log(Right)) | O(1)             |
